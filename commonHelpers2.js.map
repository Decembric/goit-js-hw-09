{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\n\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', throttle(onFormInput, 1000));\n\nreceiveMessageFromLocalStorage();\n\n\nfunction onFormInput(event) {\n    let message = localStorage.getItem(STORAGE_KEY);\n    if (message) {\n      message = JSON.parse(message);\n    } else {\n      message = {}\n    }\n  message[event.target.name] = event.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(message));\n  }\n\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const formElements = event.target.elements\n  const email = formElements.email.value.trim()\n  const textContent = formElements.message.value.trim()\n  if (email === \"\" || textContent === \"\") {\n    return alert(\"Будь ласка, заповніть усі поля\");\n  }\n  if (email === \" \" || textContent === \" \") {\n    console.log(\"Не ставьте пробіли!!!\")\n  }\n  console.log(`Email: ${email}, Message: ${textContent}`);\n    event.target.reset();\n    localStorage.removeItem(STORAGE_KEY);\n}\n\n  function receiveMessageFromLocalStorage() {\n    let savedMessage = localStorage.getItem(STORAGE_KEY);\n    if (savedMessage) {\n      savedMessage = JSON.parse(savedMessage);\n      Object.entries(savedMessage).forEach(([name, value]) => {\n        form.elements[name].value = value;\n        savedMessage = '';\n      })\n    }\n  }"],"names":["STORAGE_KEY","form","onFormSubmit","throttle","onFormInput","receiveMessageFromLocalStorage","event","message","formElements","email","textContent","savedMessage","name","value"],"mappings":"oFAEA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAGpDA,EAAK,iBAAiB,SAAUC,CAAY,EAC5CD,EAAK,iBAAiB,QAASE,EAASC,EAAa,GAAI,CAAC,EAE1DC,IAGA,SAASD,EAAYE,EAAO,CACxB,IAAIC,EAAU,aAAa,QAAQP,CAAW,EAC1CO,EACFA,EAAU,KAAK,MAAMA,CAAO,EAE5BA,EAAU,CAAE,EAEhBA,EAAQD,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MACxC,aAAa,QAAQN,EAAa,KAAK,UAAUO,CAAO,CAAC,CAC1D,CAGH,SAASL,EAAaI,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAME,EAAeF,EAAM,OAAO,SAC5BG,EAAQD,EAAa,MAAM,MAAM,KAAM,EACvCE,EAAcF,EAAa,QAAQ,MAAM,KAAM,EACrD,GAAIC,IAAU,IAAMC,IAAgB,GAClC,OAAO,MAAM,gCAAgC,GAE3CD,IAAU,KAAOC,IAAgB,MACnC,QAAQ,IAAI,uBAAuB,EAErC,QAAQ,IAAI,UAAUD,CAAK,cAAcC,CAAW,EAAE,EACpDJ,EAAM,OAAO,QACb,aAAa,WAAWN,CAAW,CACvC,CAEE,SAASK,GAAiC,CACxC,IAAIM,EAAe,aAAa,QAAQX,CAAW,EAC/CW,IACFA,EAAe,KAAK,MAAMA,CAAY,EACtC,OAAO,QAAQA,CAAY,EAAE,QAAQ,CAAC,CAACC,EAAMC,CAAK,IAAM,CACtDZ,EAAK,SAASW,CAAI,EAAE,MAAQC,EAC5BF,EAAe,EACvB,CAAO,EAEP"}